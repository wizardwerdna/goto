

<h1>Listing shortcuts</h1>

<%= link_to 'New Shortcut', new_shortcut_path %>
<br><br>
<table class="gridtable"> 
  <tr>
    <th>Keyword</th>
    <th>Long url</th>
    <th>Owner</th>
    <th>Number of redirects</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @sortBy = params.has_key?(:sortBy) ? params[:sortBy] : "keyword" %>
<% @shortcuts.sort! { |a, b| a.send(":" + @sortBy) <=> b.send(":"+@sortBy) } %>
<% @shortcuts.each do |shortcut| %>
  <tr>
    <td><%= shortcut.keyword %></td>
    <td><%= shortcut.long_url %></td>
    <td><%= shortcut.owner %></td>
    <td><%= shortcut.number_of_redirects %></td>
    <td><%= link_to 'Show', shortcut %></td>
    <td><%= link_to 'Edit', edit_shortcut_path(shortcut) %></td>
    <td><%= link_to 'Destroy', shortcut, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  </tr>
<% end %>
</table>

<br />

